<script>

Array.prototype.shuffle = function() {
    this.sort( function(a,b) { return Math.random() - 0.5; } );
}

function mutate(a,b) {
    var tmp = [];
    
    console.log( a );
    console.log( b );
    
    var log = {};
    var lookup = {};
    for( var i = 0; i < a.length; i++ ) {
        lookup[ a[ i ] ] = i;
    }
    
    var fContinue = true;
    var index = 0;
    while( fContinue ) {
        tmp[ index ] = a[ index ];
        log[ a[index] ] = true;

        index = lookup[ b[ index ] ];
        if ( log[ a[index] ] !== undefined ) {
            fContinue = false;
        }
    }
    
    for( var i = 0; i < a.length; i++ ) {
        if ( tmp[ i ] === undefined ) {
            tmp[ i ] = b[ i ];
        }
    }
    
    return tmp;
}

var a = [0,1,2,3,4,5,6,7,8,9];
var b = [0,1,2,3,4,5,6,7,8,9];

a.shuffle();
b.shuffle();

console.time('time');
var a = mutate( a, b );
console.timeEnd('time');

console.log( a );





</script>